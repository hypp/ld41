pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function _init()
 player={}
 player.x = 64
 player.y = 64
 player.vel_y = 0.0
 player.vel_x = 0.0
 player.acc_y = 0.0
 player.acc_x = 0.0
 player.jumping = false
 player.note_length = 0
end

function _update()
 if btn(0) then
  player.acc_x = -1.0
 elseif btn(1) then
  player.acc_x = 1.0
 else
  player.acc_x = 0.0
  player.vel_x = 0.0
 end
 if player.jumping then
  player.acc_y += 0.1
 elseif btn(4) then
  player.jumping = true
  player.acc_y = -1.0
 end
 if btnp(5) then
  player.note_length = (player.note_length + 1) % 2
 end
 
 player.vel_x += player.acc_x
 player.vel_y += player.acc_y
 player.x = (player.x + player.vel_x) % 128
 player.y = player.y + player.vel_y
 
 if player.y > 100 then
  player.jumping = false
  player.acc_y = 0.0
  player.vel_y = 0.0
  player.y = 100
 end
 
end

function _draw()
 cls(7)

 line(0,48,127,48,5)
 line(0,56,127,56,5) 
 line(0,64,127,64,5)
 line(0,72,127,72,5)
 line(0,80,127,80,5)
 
 if player.y >= 64 then
  spr(player.note_length,player.x,player.y-2,1,2,true,true)
 else
  spr(player.note_length,player.x,player.y-14,1,2)
 end
  
end
__gfx__
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777177777771770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77111177771111770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
71111177711111770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
71111777711117770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77117777771177770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
